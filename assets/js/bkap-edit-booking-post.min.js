jQuery(document).ready((function(){if(jQuery("#bkap_delete").on("click",(function(){if(1==confirm(edit_post_param.confirm_msg)){var data={booking_id:edit_post_param.post_id,action:"bkap_delete_booking"};jQuery.post(edit_post_param.ajax_url,data,(function(response){window.location.replace(edit_post_param.order_url)}))}})),jQuery(".bkap_cancel").on("click",(function(){window.location.replace(edit_post_param.order_url)})),jQuery("#bkap_qty").on("change",(function(){if(jQuery("#wapbk_hidden_date").length>0)if("multiple_days"==edit_post_param.booking_type)""!=jQuery("#wapbk_hidden_date").val()&&""!=jQuery("#wapbk_hidden_date_checkout").val()&&bkap_calculate_price();else{var max_limit=parseInt(jQuery("#bkap_qty").attr("max")),qty_val=parseInt(jQuery("#bkap_qty").val());"NaN"!=max_limit&&max_limit>0&&qty_val>max_limit&&jQuery("#bkap_qty").val(max_limit),""!=jQuery("#wapbk_hidden_date").val()&&bkap_single_day_price()}})),jQuery("#wapbk_hidden_date").length>0){jQuery("#wapbk_hidden_date").val(edit_post_param.hidden_date);var split=jQuery("#wapbk_hidden_date").val().split("-"),bookingDate=new Date(split[2],split[1]-1,split[0]);if(jQuery("#booking_calender").datepicker("setDate",bookingDate),jQuery("#bkap_front_resource_selection").val(edit_post_param.resource),jQuery("#bkap_field_persons").length>0?jQuery("#bkap_field_persons").val(edit_post_param.persons[0]):jQuery('input[id^="bkap_field_persons_"]').length>0&&jQuery('input[id^="bkap_field_persons_"]').each((function(i,row){let person_id=jQuery(this)[0].id.split("_")[3],person_val=jQuery(this).val();""==person_val&&(person_val=0),void 0!==edit_post_param.persons[person_id]&&jQuery(this).val(edit_post_param.persons[person_id])})),"multiple_days"===edit_post_param.booking_type){"YES"===edit_post_param.pastCheckout&&jQuery("#booking_calender_checkout").datepicker("option","minDate",bookingDate),jQuery("#wapbk_hidden_date_checkout").val(edit_post_param.hidden_checkout);split=jQuery("#wapbk_hidden_date_checkout").val().split("-");var checkoutDate=new Date(split[2],split[1]-1,split[0]);if(jQuery("#booking_calender_checkout").datepicker("setDate",checkoutDate),jQuery("#block_option").length>0){jQuery("#block_option").val(edit_post_param.block_value);var block_value=edit_post_param.block_value.split("&");jQuery("#block_option_start_day").val(block_value[0]),jQuery("#block_option_number_of_days").val(block_value[1]),jQuery("#block_option_price").val(block_value[2])}bkap_calculate_price()}else bkap_process_date(edit_post_param.hidden_date)}jQuery("#bkap_add_zoom_meeting").on("click",(function(){var data={booking_id:edit_post_param.post_id,meeting_link:jQuery("#bkap_manual_zoom_meeting").val(),action:"bkap_add_zoom_meeting"};jQuery.post(edit_post_param.ajax_url,data,(function(response){jQuery("#bkap_add_zoom_meeting").html(response.meeting_link),jQuery("#bkap_manual_zoom_meeting").hide(),jQuery("#bkap_manual_zoom_meeting_info").hide()}))}))}));
