jQuery(document).ready((function(){jQuery("#product_save_button,#draft_button").one("click",(function(event){event.preventDefault();var id="#"+this.id,booking_options=bkap_get_general_tab_data(),settings_data=bkap_get_availability_data(),gcal_settings=bkap_get_gcal_data(),rental_settings=bkap_get_rental_data(),fixed_block_data=bkap_fixed_block_data(),price_range_data=bkap_price_range_data(),resource_data=bkap_resource_data(),fixed_blocks_enable="",price_ranges_enable="",block_price="";null!=(block_price=jQuery("input:radio[name=bkap_enable_block_pricing_type]:checked").val())&&(block_price.length>0&&"booking_block_price_enable"==block_price&&(price_ranges_enable=block_price),block_price.length>0&&"booking_fixed_block_enable"==block_price&&(fixed_blocks_enable=block_price));var data={booking_options:JSON.stringify(booking_options),settings_data:JSON.stringify(settings_data),gcal_data:JSON.stringify(gcal_settings),rental_data:JSON.stringify(rental_settings),ranges_enabled:price_ranges_enable,blocks_enabled:fixed_blocks_enable,fixed_block_data:JSON.stringify(fixed_block_data),price_range_data:price_range_data,resource_data:JSON.stringify(resource_data),product_id:bkap_wcv_params.post_id,action:"bkap_save_settings"};bkap_wcv_params.post_id&&jQuery.post(bkap_wcv_params.ajax_url,data,(function(response){jQuery(id).trigger("click")})),jQuery("#bkap_booking_options").length>0&&(jQuery("#bkap_booking_options").val(JSON.stringify(booking_options)),jQuery("#bkap_settings_data").val(JSON.stringify(settings_data)),jQuery("#bkap_gcal_data").val(JSON.stringify(gcal_settings)),jQuery("#bkap_rental_data").val(JSON.stringify(rental_settings)),jQuery("#bkap_ranges_enabled").val(price_ranges_enable),jQuery("#bkap_blocks_enabled").val(fixed_blocks_enable),jQuery("#bkap_fixed_block_data").val(JSON.stringify(fixed_block_data)),jQuery("#bkap_price_range_data").val(price_range_data),jQuery("#bkap_resource_data").val(JSON.stringify(resource_data)))}));var tipText="";jQuery("#bkap-tabbed-nav .help_tip").each((function(i,el){tipText=el.getAttribute("data-tip"),el.removeAttribute("data-tip"),el.setAttribute("title",tipText)})),jQuery(".help_tip").addClass("fa fa-question-circle tips").removeClass("help_tip"),jQuery(".fa-question-circle").tooltip({trigger:"manual"}),jQuery(".fa-question-circle").on("taphold",(function(){jQuery(this).tooltip("show")}))}));
