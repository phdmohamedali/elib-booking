let bkap_fullcalendar={};document.addEventListener("DOMContentLoaded",(function(){var calendarEl=document.getElementById("bkap-calendar"),bkap_vendor_id=null!=bkap_calendar_view.bkap_vendor_id?bkap_calendar_view.bkap_vendor_id:"";bkap_fullcalendar=new FullCalendar.Calendar(calendarEl,{initialView:"timeGridWeek",headerToolbar:{left:"prev,next,today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},navLinks:!0,dayMaxEvents:!0,events:"?bkapc_events=json"+bkap_vendor_id,locale:booking_calendar_params.lang,loading:function(isLoading,view){1==isLoading?jQuery("#bkap_events_loader").show():0==isLoading&&jQuery("#bkap_events_loader").hide()},eventDidMount:function(info){"grey"===info.backgroundColor?jQuery(info.el).on("click",(function(){let title=info.event._def.title,date=info.event._instance.range,start_date=(date.start.getMonth()>8?date.start.getMonth()+1:"0"+(date.start.getMonth()+1))+"/"+(date.start.getDate()>9?date.start.getDate():"0"+date.start.getDate())+"/"+date.start.getFullYear().toString().substr(-2);date.end.setDate(date.end.getDate()-1);let end_date=(date.end.getMonth()>8?date.end.getMonth()+1:"0"+(date.end.getMonth()+1))+"/"+(date.end.getDate()>9?date.end.getDate():"0"+date.end.getDate())+"/"+date.end.getFullYear().toString().substr(-2);jQuery("#availability-start").datepicker("setDate",start_date),jQuery("#availability-end").datepicker("setDate",end_date),jQuery(".title").val(title),jQuery(".update-type").val("edit"),jQuery(".update-id").val(info.event.id),jQuery(".popup-overlay, .popup-content").addClass("active")})):jQuery(info.el).qtip({content:{text:bkap_calendar_view.loading,button:bkap_calendar_view.tip_close,ajax:{url:bkap_calendar_view.ajaxurl,type:"POST",data:{action:"bkap_booking_calender_content",order_id:info.event.id,event_value:info.event.extendedProps.value}}},show:{event:"click",solo:!0},position:{my:"bottom right",at:"top right"},hide:"unfocus",style:{classes:"qtip-light qtip-shadow"}})}}),bkap_fullcalendar.render()}));
