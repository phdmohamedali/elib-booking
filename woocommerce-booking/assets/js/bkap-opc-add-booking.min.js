function bkap_opc_add_booking_event(inst,e){var timeout,input=jQuery(inst);clearTimeout(timeout),timeout=setTimeout((function(){var data={quantity:input.hasClass("bkap_opc_add_booking")?1:input.val(),add_to_cart:parseInt(input.data("add_to_cart")),input_data:input.closest(".product-quantity").find('input[name!="product_id"], select, textarea').serialize(),nonce:wcopc.wcopc_nonce};0==data.quantity?data.action="pp_remove_from_cart":data.action="pp_update_add_in_cart",input.ajax_add_remove_product(data,e,'#opc-product-selection input[type="number"][data-add_to_cart]')}),1e3),e.preventDefault()}jQuery(document).ready((function($){$("body").on("bkap_edit_popup_enabled",(function(e,product_id,modal_id){var modal_object=$("#bkap_edit_modal_"+modal_id),confirm_button=modal_object.find("#confirm_bookings_"+modal_id);add_button=modal_object.find("#bkap_opc_add_booking_"+modal_id),0===add_button.length&&(confirm_button.after('<input type="button" name="bkap_opc_add_booking" id="bkap_opc_add_booking_'+modal_id+'" onclick="bkap_opc_add_booking_event( this, event )" value="Add Booking" data-add_to_cart="'+modal_id+'"class="bkap_modal_button_class bkap_opc_add_booking" disabled="disabled">'),confirm_button.hide())})),$("body").on("bkap_price_updated",(function(e,add_button_id){var add_button="#bkap_opc_add_booking_"+add_button_id,time_slot=$("#modal-body-"+add_button_id).find("#time_slot");time_slot.length>0?$(time_slot).val()?$(add_button).prop("disabled",!1):$(add_button).prop("disabled",!0):$(add_button).prop("disabled",!1)})),$("body").on("after_opc_add_remove_product",(function(data,response){"pp_add_to_cart"===response.action&&setTimeout((function(){$(".bkap-modal").css({display:"none"})}),1e3),"pp_update_add_in_cart"===response.action&&$("#bkap_edit_modal_"+response.add_to_cart).length>0&&bkap_edit_booking_class.bkap_close_popup(response.add_to_cart,response.add_to_cart)}))}));
